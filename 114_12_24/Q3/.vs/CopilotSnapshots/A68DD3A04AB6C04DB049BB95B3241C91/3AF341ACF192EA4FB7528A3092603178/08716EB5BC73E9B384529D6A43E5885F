using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Q3
{
    public partial class Form1 : Form
    {
        private Random _rnd = new Random();
        private List<int> _lastNumbers = new List<int>();

        public Form1()
        {
            InitializeComponent();
        }

        private void btnGenerate_Click(object sender, EventArgs e)
        {
            // generate 5 unique random numbers between 1 and 49
            var nums = new List<int>();
            while (nums.Count < 5)
            {
                int n = _rnd.Next(1, 50);
                if (!nums.Contains(n)) nums.Add(n);
            }
            nums.Sort();
            _lastNumbers = nums;

            // display in top textboxes
            txtNum1.Text = nums[0].ToString();
            txtNum2.Text = nums[1].ToString();
            txtNum3.Text = nums[2].ToString();
            txtNum4.Text = nums[3].ToString();
            txtNum5.Text = nums[4].ToString();
        }

        private void btnDraw_Click(object sender, EventArgs e)
        {
            if (_lastNumbers == null || _lastNumbers.Count != 5)
            {
                MessageBox.Show("請先按下 產生號碼 以取得號碼。", "尚未產生", MessageBoxButtons.OK, MessageBoxIcon.Information);
                return;
            }

            var sb = new StringBuilder();
            sb.AppendLine("本期開獎號碼：");
            for (int i = 0; i < _lastNumbers.Count; i++)
            {
                sb.AppendLine($"第{ i + 1 }個號碼：{ _lastNumbers[i] }");
            }

            txtResult.Text = sb.ToString();
        }

        private void btnExit_Click(object sender, EventArgs e)
        {
            this.Close();
        }
    }
}
